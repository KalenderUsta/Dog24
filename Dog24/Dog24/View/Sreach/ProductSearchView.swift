//
//  ProductSearchView.swift
//  Dog24
//
//  Created by Kalender Usta on 20.09.24.
//

import SwiftUI

struct ProductSearchView: View {
    @EnvironmentObject var viewModel: ViewModel
    let product: Product
    
    var body: some View {
        HStack{
            if let url = URL(string: product.bildUrl) {
                AsyncImage(url: url) { image in
                    image.resizable()
                        .scaledToFill()
                        .frame(width: 80, height: 80)
                        .clipped()
                } placeholder: {
                    ProgressView()
                }
                .padding()
            }
            
            VStack(alignment: .leading, spacing: 5){
                Text(product.title)
                    .font(.subheadline)
                    .foregroundStyle(.black)
                    .bold()
                    .lineLimit(1)
                    .truncationMode(.tail)

                Text(product.description)
                    .font(.caption)
                    .foregroundStyle(.black)
                    .lineLimit(2)
                    .truncationMode(.tail)
                    .multilineTextAlignment(.leading)
                    .padding(.top, 1)
                    
            }
            .padding(.horizontal, 8)
        }
        .frame(width: 380)
        .background(.white)
        .cornerRadius(8)
        .shadow(radius: 5)
        .padding(.horizontal)
    }
}

#Preview {
    ProductSearchView(product: Product(id: 1, title: "Beispielprodukt", category: Category(category: .spielzeuge, subCategories: [], image: ""), evaluation: 4, price: 29.99, description: "Eine sehr lange Beschreibung des Produkts, die hier gek√ºrzt werden sollte, um den Platz auf der Karte zu sparen", bildUrl: "data:image/jpeg;base64,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", quantity: 2))
        .environmentObject(ViewModel())
}
